{"ast":null,"code":"import React from'react';import faTrashAlt from'@fortawesome/fontawesome-free-solid/faTrashAlt';import faUser from'@fortawesome/fontawesome-free-solid/faUser';import{classes,extension}from'common/util';import{actions}from'reducers';import{connect}from'react-redux';import{languages}from'common/config';import{Button,Ellipsis,FoldableAceEditor}from'components';import styles from'./CodeEditor.module.scss';class CodeEditor extends React.Component{constructor(props){super(props);this.aceEditorRef=React.createRef();}handleResize(){this.aceEditorRef.current.resize();}render(){const{className}=this.props;const{editingFile}=this.props.current;const{user}=this.props.env;const{lineIndicator}=this.props.player;if(!editingFile)return null;const fileExt=extension(editingFile.name);const language=languages.find(language=>language.ext===fileExt);const mode=language?language.mode:fileExt==='md'?'markdown':fileExt==='json'?'json':'plain_text';return/*#__PURE__*/React.createElement(\"div\",{className:classes(styles.code_editor,className)},/*#__PURE__*/React.createElement(FoldableAceEditor,{className:styles.ace_editor,ref:this.aceEditorRef,mode:mode,theme:\"tomorrow_night_eighties\",name:\"code_editor\",editorProps:{$blockScrolling:true},onChange:code=>this.props.modifyFile(editingFile,code),markers:lineIndicator?[{startRow:lineIndicator.lineNumber,startCol:0,endRow:lineIndicator.lineNumber,endCol:Infinity,className:styles.current_line_marker,type:'line',inFront:true,_key:lineIndicator.cursor}]:[],value:editingFile.content}),/*#__PURE__*/React.createElement(\"div\",{className:classes(styles.contributors_viewer,className)},/*#__PURE__*/React.createElement(\"div\",{className:styles.empty},/*#__PURE__*/React.createElement(\"div\",{className:styles.empty}),/*#__PURE__*/React.createElement(Button,{className:styles.delete,icon:faTrashAlt,primary:true,confirmNeeded:true,onClick:()=>this.props.deleteFile(editingFile)},/*#__PURE__*/React.createElement(Ellipsis,null,\"Delete File\")))));}}export default connect(_ref=>{let{current,env,player}=_ref;return{current,env,player};},actions,null,{forwardRef:true})(CodeEditor);","map":{"version":3,"names":["React","faTrashAlt","faUser","classes","extension","actions","connect","languages","Button","Ellipsis","FoldableAceEditor","styles","CodeEditor","Component","constructor","props","aceEditorRef","createRef","handleResize","current","resize","render","className","editingFile","user","env","lineIndicator","player","fileExt","name","language","find","ext","mode","createElement","code_editor","ace_editor","ref","theme","editorProps","$blockScrolling","onChange","code","modifyFile","markers","startRow","lineNumber","startCol","endRow","endCol","Infinity","current_line_marker","type","inFront","_key","cursor","value","content","contributors_viewer","empty","delete","icon","primary","confirmNeeded","onClick","deleteFile","_ref","forwardRef"],"sources":["/home/om-bade/Downloads/AlgoLab-main/visualizer/src/components/CodeEditor/index.js"],"sourcesContent":["import React from 'react';\nimport faTrashAlt from '@fortawesome/fontawesome-free-solid/faTrashAlt';\nimport faUser from '@fortawesome/fontawesome-free-solid/faUser';\nimport { classes, extension } from 'common/util';\nimport { actions } from 'reducers';\nimport { connect } from 'react-redux';\nimport { languages } from 'common/config';\nimport { Button, Ellipsis, FoldableAceEditor } from 'components';\nimport styles from './CodeEditor.module.scss';\n\nclass CodeEditor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.aceEditorRef = React.createRef();\n  }\n\n  handleResize() {\n    this.aceEditorRef.current.resize();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { editingFile } = this.props.current;\n    const { user } = this.props.env;\n    const { lineIndicator } = this.props.player;\n\n    if (!editingFile) return null;\n\n    const fileExt = extension(editingFile.name);\n    const language = languages.find(language => language.ext === fileExt);\n    const mode = language ? language.mode :\n      fileExt === 'md' ? 'markdown' :\n        fileExt === 'json' ? 'json' :\n          'plain_text';\n\n    return (\n      <div className={classes(styles.code_editor, className)}>\n        <FoldableAceEditor\n          className={styles.ace_editor}\n          ref={this.aceEditorRef}\n          mode={mode}\n          theme=\"tomorrow_night_eighties\"\n          name=\"code_editor\"\n          editorProps={{ $blockScrolling: true }}\n          onChange={code => this.props.modifyFile(editingFile, code)}\n          markers={lineIndicator ? [{\n            startRow: lineIndicator.lineNumber,\n            startCol: 0,\n            endRow: lineIndicator.lineNumber,\n            endCol: Infinity,\n            className: styles.current_line_marker,\n            type: 'line',\n            inFront: true,\n            _key: lineIndicator.cursor,\n          }] : []}\n          value={editingFile.content}/>\n        <div className={classes(styles.contributors_viewer, className)}>\n          \n          {\n            \n          }\n          <div className={styles.empty}>\n            <div className={styles.empty}/>\n            <Button className={styles.delete} icon={faTrashAlt} primary confirmNeeded\n                    onClick={() => this.props.deleteFile(editingFile)}>\n              <Ellipsis>Delete File</Ellipsis>\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ current, env, player }) => ({ current, env, player }), actions, null, { forwardRef: true })(\n  CodeEditor,\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}