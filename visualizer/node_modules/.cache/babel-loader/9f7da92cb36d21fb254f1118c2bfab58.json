{"ast":null,"code":"import React from'react';import styles from'./Renderer.module.scss';import{Ellipsis}from'components';import{classes}from'common/util';class Renderer extends React.Component{constructor(props){super(props);this.handleMouseDown=this.handleMouseDown.bind(this);this.handleMouseMove=this.handleMouseMove.bind(this);this.handleMouseUp=this.handleMouseUp.bind(this);this.handleWheel=this.handleWheel.bind(this);this._handleMouseDown=this.handleMouseDown;this._handleWheel=this.handleWheel;this.togglePan(false);this.toggleZoom(false);this.lastX=null;this.lastY=null;this.centerX=0;this.centerY=0;this.zoom=1;this.zoomFactor=1.01;this.zoomMax=20;this.zoomMin=1/20;}componentDidUpdate(prevProps,prevState,snapshot){}togglePan(){let enable=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this.handleMouseDown;this.handleMouseDown=enable?this._handleMouseDown:undefined;}toggleZoom(){let enable=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this.handleWheel;this.handleWheel=enable?this._handleWheel:undefined;}handleMouseDown(e){const{clientX,clientY}=e;this.lastX=clientX;this.lastY=clientY;document.addEventListener('mousemove',this.handleMouseMove);document.addEventListener('mouseup',this.handleMouseUp);}handleMouseMove(e){const{clientX,clientY}=e;const dx=clientX-this.lastX;const dy=clientY-this.lastY;this.centerX-=dx;this.centerY-=dy;this.refresh();this.lastX=clientX;this.lastY=clientY;}handleMouseUp(e){document.removeEventListener('mousemove',this.handleMouseMove);document.removeEventListener('mouseup',this.handleMouseUp);}handleWheel(e){e.preventDefault();const{deltaY}=e;this.zoom*=Math.pow(this.zoomFactor,deltaY);this.zoom=Math.min(this.zoomMax,Math.max(this.zoomMin,this.zoom));this.refresh();}toString(value){switch(typeof value){case'number':return[Number.POSITIVE_INFINITY,Number.MAX_SAFE_INTEGER,0x7fffffff].includes(value)?'∞':[Number.NEGATIVE_INFINITY,Number.MIN_SAFE_INTEGER,-0x80000000].includes(value)?'-∞':Number.isInteger(value)?value.toString():value.toFixed(3);case'boolean':return value?'T':'F';default:return value;}}refresh(){this.forceUpdate();}renderData(){return null;}render(){const{className,title}=this.props;return/*#__PURE__*/React.createElement(\"div\",{className:classes(styles.renderer,className),onMouseDown:this.handleMouseDown,onWheel:this.handleWheel},/*#__PURE__*/React.createElement(Ellipsis,{className:styles.title},title),this.renderData());}}export default Renderer;","map":{"version":3,"names":["React","styles","Ellipsis","classes","Renderer","Component","constructor","props","handleMouseDown","bind","handleMouseMove","handleMouseUp","handleWheel","_handleMouseDown","_handleWheel","togglePan","toggleZoom","lastX","lastY","centerX","centerY","zoom","zoomFactor","zoomMax","zoomMin","componentDidUpdate","prevProps","prevState","snapshot","enable","arguments","length","undefined","e","clientX","clientY","document","addEventListener","dx","dy","refresh","removeEventListener","preventDefault","deltaY","Math","pow","min","max","toString","value","Number","POSITIVE_INFINITY","MAX_SAFE_INTEGER","includes","NEGATIVE_INFINITY","MIN_SAFE_INTEGER","isInteger","toFixed","forceUpdate","renderData","render","className","title","createElement","renderer","onMouseDown","onWheel"],"sources":["/home/om-bade/Downloads/AlgoLab-main/visualizer/src/core/renderers/Renderer/index.js"],"sourcesContent":["import React from 'react';\nimport styles from './Renderer.module.scss';\nimport { Ellipsis } from 'components';\nimport { classes } from 'common/util';\n\nclass Renderer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleWheel = this.handleWheel.bind(this);\n\n    this._handleMouseDown = this.handleMouseDown;\n    this._handleWheel = this.handleWheel;\n    this.togglePan(false);\n    this.toggleZoom(false);\n\n    this.lastX = null;\n    this.lastY = null;\n    this.centerX = 0;\n    this.centerY = 0;\n    this.zoom = 1;\n    this.zoomFactor = 1.01;\n    this.zoomMax = 20;\n    this.zoomMin = 1 / 20;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n  }\n\n  togglePan(enable = !this.handleMouseDown) {\n    this.handleMouseDown = enable ? this._handleMouseDown : undefined;\n  }\n\n  toggleZoom(enable = !this.handleWheel) {\n    this.handleWheel = enable ? this._handleWheel : undefined;\n  }\n\n  handleMouseDown(e) {\n    const { clientX, clientY } = e;\n    this.lastX = clientX;\n    this.lastY = clientY;\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  handleMouseMove(e) {\n    const { clientX, clientY } = e;\n    const dx = clientX - this.lastX;\n    const dy = clientY - this.lastY;\n    this.centerX -= dx;\n    this.centerY -= dy;\n    this.refresh();\n    this.lastX = clientX;\n    this.lastY = clientY;\n  }\n\n  handleMouseUp(e) {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  handleWheel(e) {\n    e.preventDefault();\n    const { deltaY } = e;\n    this.zoom *= Math.pow(this.zoomFactor, deltaY);\n    this.zoom = Math.min(this.zoomMax, Math.max(this.zoomMin, this.zoom));\n    this.refresh();\n  }\n\n  toString(value) {\n    switch (typeof(value)) {\n      case 'number':\n        return [Number.POSITIVE_INFINITY, Number.MAX_SAFE_INTEGER, 0x7fffffff].includes(value) ? '∞' :\n          [Number.NEGATIVE_INFINITY, Number.MIN_SAFE_INTEGER, -0x80000000].includes(value) ? '-∞' :\n            Number.isInteger(value) ? value.toString() :\n              value.toFixed(3);\n      case 'boolean':\n        return value ? 'T' : 'F';\n      default:\n        return value;\n    }\n  }\n\n  refresh() {\n    this.forceUpdate();\n  }\n\n  renderData() {\n    return null;\n  }\n\n  render() {\n    const { className, title } = this.props;\n\n    return (\n      <div className={classes(styles.renderer, className)} onMouseDown={this.handleMouseDown}\n           onWheel={this.handleWheel}>\n        <Ellipsis className={styles.title}>{title}</Ellipsis>\n        {\n          this.renderData()\n        }\n      </div>\n    );\n  }\n}\n\nexport default Renderer;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,QAAQ,KAAQ,YAAY,CACrC,OAASC,OAAO,KAAQ,aAAa,CAErC,KAAM,CAAAC,QAAQ,QAAS,CAAAJ,KAAK,CAACK,SAAU,CACrCC,WAAWA,CAACC,KAAK,CAAE,CACjB,KAAK,CAACA,KAAK,CAAC,CAEZ,IAAI,CAACC,eAAe,CAAG,IAAI,CAACA,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC,CACtD,IAAI,CAACC,eAAe,CAAG,IAAI,CAACA,eAAe,CAACD,IAAI,CAAC,IAAI,CAAC,CACtD,IAAI,CAACE,aAAa,CAAG,IAAI,CAACA,aAAa,CAACF,IAAI,CAAC,IAAI,CAAC,CAClD,IAAI,CAACG,WAAW,CAAG,IAAI,CAACA,WAAW,CAACH,IAAI,CAAC,IAAI,CAAC,CAE9C,IAAI,CAACI,gBAAgB,CAAG,IAAI,CAACL,eAAe,CAC5C,IAAI,CAACM,YAAY,CAAG,IAAI,CAACF,WAAW,CACpC,IAAI,CAACG,SAAS,CAAC,KAAK,CAAC,CACrB,IAAI,CAACC,UAAU,CAAC,KAAK,CAAC,CAEtB,IAAI,CAACC,KAAK,CAAG,IAAI,CACjB,IAAI,CAACC,KAAK,CAAG,IAAI,CACjB,IAAI,CAACC,OAAO,CAAG,CAAC,CAChB,IAAI,CAACC,OAAO,CAAG,CAAC,CAChB,IAAI,CAACC,IAAI,CAAG,CAAC,CACb,IAAI,CAACC,UAAU,CAAG,IAAI,CACtB,IAAI,CAACC,OAAO,CAAG,EAAE,CACjB,IAAI,CAACC,OAAO,CAAG,CAAC,CAAG,EAAE,CACvB,CAEAC,kBAAkBA,CAACC,SAAS,CAAEC,SAAS,CAAEC,QAAQ,CAAE,CACnD,CAEAb,SAASA,CAAA,CAAiC,IAAhC,CAAAc,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAI,CAACtB,eAAe,CACtC,IAAI,CAACA,eAAe,CAAGqB,MAAM,CAAG,IAAI,CAAChB,gBAAgB,CAAGmB,SAAS,CACnE,CAEAhB,UAAUA,CAAA,CAA6B,IAA5B,CAAAa,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAI,CAAClB,WAAW,CACnC,IAAI,CAACA,WAAW,CAAGiB,MAAM,CAAG,IAAI,CAACf,YAAY,CAAGkB,SAAS,CAC3D,CAEAxB,eAAeA,CAACyB,CAAC,CAAE,CACjB,KAAM,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAGF,CAAC,CAC9B,IAAI,CAAChB,KAAK,CAAGiB,OAAO,CACpB,IAAI,CAAChB,KAAK,CAAGiB,OAAO,CACpBC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAE,IAAI,CAAC3B,eAAe,CAAC,CAC5D0B,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAE,IAAI,CAAC1B,aAAa,CAAC,CAC1D,CAEAD,eAAeA,CAACuB,CAAC,CAAE,CACjB,KAAM,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAGF,CAAC,CAC9B,KAAM,CAAAK,EAAE,CAAGJ,OAAO,CAAG,IAAI,CAACjB,KAAK,CAC/B,KAAM,CAAAsB,EAAE,CAAGJ,OAAO,CAAG,IAAI,CAACjB,KAAK,CAC/B,IAAI,CAACC,OAAO,EAAImB,EAAE,CAClB,IAAI,CAAClB,OAAO,EAAImB,EAAE,CAClB,IAAI,CAACC,OAAO,CAAC,CAAC,CACd,IAAI,CAACvB,KAAK,CAAGiB,OAAO,CACpB,IAAI,CAAChB,KAAK,CAAGiB,OAAO,CACtB,CAEAxB,aAAaA,CAACsB,CAAC,CAAE,CACfG,QAAQ,CAACK,mBAAmB,CAAC,WAAW,CAAE,IAAI,CAAC/B,eAAe,CAAC,CAC/D0B,QAAQ,CAACK,mBAAmB,CAAC,SAAS,CAAE,IAAI,CAAC9B,aAAa,CAAC,CAC7D,CAEAC,WAAWA,CAACqB,CAAC,CAAE,CACbA,CAAC,CAACS,cAAc,CAAC,CAAC,CAClB,KAAM,CAAEC,MAAO,CAAC,CAAGV,CAAC,CACpB,IAAI,CAACZ,IAAI,EAAIuB,IAAI,CAACC,GAAG,CAAC,IAAI,CAACvB,UAAU,CAAEqB,MAAM,CAAC,CAC9C,IAAI,CAACtB,IAAI,CAAGuB,IAAI,CAACE,GAAG,CAAC,IAAI,CAACvB,OAAO,CAAEqB,IAAI,CAACG,GAAG,CAAC,IAAI,CAACvB,OAAO,CAAE,IAAI,CAACH,IAAI,CAAC,CAAC,CACrE,IAAI,CAACmB,OAAO,CAAC,CAAC,CAChB,CAEAQ,QAAQA,CAACC,KAAK,CAAE,CACd,OAAQ,MAAO,CAAAA,KAAM,EACnB,IAAK,QAAQ,CACX,MAAO,CAACC,MAAM,CAACC,iBAAiB,CAAED,MAAM,CAACE,gBAAgB,CAAE,UAAU,CAAC,CAACC,QAAQ,CAACJ,KAAK,CAAC,CAAG,GAAG,CAC1F,CAACC,MAAM,CAACI,iBAAiB,CAAEJ,MAAM,CAACK,gBAAgB,CAAE,CAAC,UAAU,CAAC,CAACF,QAAQ,CAACJ,KAAK,CAAC,CAAG,IAAI,CACrFC,MAAM,CAACM,SAAS,CAACP,KAAK,CAAC,CAAGA,KAAK,CAACD,QAAQ,CAAC,CAAC,CACxCC,KAAK,CAACQ,OAAO,CAAC,CAAC,CAAC,CACxB,IAAK,SAAS,CACZ,MAAO,CAAAR,KAAK,CAAG,GAAG,CAAG,GAAG,CAC1B,QACE,MAAO,CAAAA,KAAK,CAChB,CACF,CAEAT,OAAOA,CAAA,CAAG,CACR,IAAI,CAACkB,WAAW,CAAC,CAAC,CACpB,CAEAC,UAAUA,CAAA,CAAG,CACX,MAAO,KAAI,CACb,CAEAC,MAAMA,CAAA,CAAG,CACP,KAAM,CAAEC,SAAS,CAAEC,KAAM,CAAC,CAAG,IAAI,CAACvD,KAAK,CAEvC,mBACEP,KAAA,CAAA+D,aAAA,QAAKF,SAAS,CAAE1D,OAAO,CAACF,MAAM,CAAC+D,QAAQ,CAAEH,SAAS,CAAE,CAACI,WAAW,CAAE,IAAI,CAACzD,eAAgB,CAClF0D,OAAO,CAAE,IAAI,CAACtD,WAAY,eAC7BZ,KAAA,CAAA+D,aAAA,CAAC7D,QAAQ,EAAC2D,SAAS,CAAE5D,MAAM,CAAC6D,KAAM,EAAEA,KAAgB,CAAC,CAEnD,IAAI,CAACH,UAAU,CAAC,CAEf,CAAC,CAEV,CACF,CAEA,cAAe,CAAAvD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}