{"ast":null,"code":"import{combineActions,createAction,handleActions}from'redux-actions';import{README_MD}from'files';import{extension,isSaved}from'common/util';const prefix='CURRENT';const setHome=createAction(\"\".concat(prefix,\"/SET_HOME\"),()=>defaultState);const setAlgorithm=createAction(\"\".concat(prefix,\"/SET_ALGORITHM\"),_ref=>{let{categoryKey,categoryName,algorithmKey,algorithmName,files,description}=_ref;return{algorithm:{categoryKey,algorithmKey},titles:[categoryName,algorithmName],files,description};});const setScratchPaper=createAction(\"\".concat(prefix,\"/SET_SCRATCH_PAPER\"),_ref2=>{let{login,gistId,title,files}=_ref2;return{scratchPaper:{login,gistId},titles:['Scratch Paper',title],files,description:homeDescription};});const setEditingFile=createAction(\"\".concat(prefix,\"/SET_EDITING_FILE\"),file=>({file}));const modifyTitle=createAction(\"\".concat(prefix,\"/MODIFY_TITLE\"),title=>({title}));const addFile=createAction(\"\".concat(prefix,\"/ADD_FILE\"),file=>({file}));const renameFile=createAction(\"\".concat(prefix,\"/RENAME_FILE\"),(file,name)=>({file,name}));const modifyFile=createAction(\"\".concat(prefix,\"/MODIFY_FILE\"),(file,content)=>({file,content}));const deleteFile=createAction(\"\".concat(prefix,\"/DELETE_FILE\"),file=>({file}));export const actions={setHome,setAlgorithm,setScratchPaper,setEditingFile,modifyTitle,addFile,modifyFile,deleteFile,renameFile};const homeTitles=['Algorithm Visualizer'];const homeFiles=[README_MD];const homeDescription='Algorithm Visualizer is an interactive online platform that visualizes algorithms from code.';const defaultState={algorithm:{categoryKey:'algorithm-visualizer',algorithmKey:'home'},scratchPaper:undefined,titles:homeTitles,files:homeFiles,lastTitles:homeTitles,lastFiles:homeFiles,description:homeDescription,editingFile:undefined,shouldBuild:true,saved:true};export default handleActions({[combineActions(setHome,setAlgorithm,setScratchPaper)]:(state,_ref3)=>{let{payload}=_ref3;const{algorithm,scratchPaper,titles,files,description}=payload;return{...state,algorithm,scratchPaper,titles,files,lastTitles:titles,lastFiles:files,description,editingFile:undefined,shouldBuild:true,saved:true};},[setEditingFile]:(state,_ref4)=>{let{payload}=_ref4;const{file}=payload;return{...state,editingFile:file,shouldBuild:true};},[modifyTitle]:(state,_ref5)=>{let{payload}=_ref5;const{title}=payload;const newState={...state,titles:[state.titles[0],title]};return{...newState,saved:isSaved(newState)};},[addFile]:(state,_ref6)=>{let{payload}=_ref6;const{file}=payload;const newState={...state,files:[...state.files,file],editingFile:file,shouldBuild:true};return{...newState,saved:isSaved(newState)};},[combineActions(renameFile,modifyFile)]:(state,_ref7)=>{let{payload}=_ref7;const{file,...update}=payload;const editingFile={...file,...update};const newState={...state,files:state.files.map(oldFile=>oldFile===file?editingFile:oldFile),editingFile,shouldBuild:extension(editingFile.name)==='md'};return{...newState,saved:isSaved(newState)};},[deleteFile]:(state,_ref8)=>{let{payload}=_ref8;const{file}=payload;const index=state.files.indexOf(file);const files=state.files.filter(oldFile=>oldFile!==file);const editingFile=files[Math.min(index,files.length-1)];const newState={...state,files,editingFile,shouldBuild:true};return{...newState,saved:isSaved(newState)};}},defaultState);","map":{"version":3,"names":["combineActions","createAction","handleActions","README_MD","extension","isSaved","prefix","setHome","concat","defaultState","setAlgorithm","_ref","categoryKey","categoryName","algorithmKey","algorithmName","files","description","algorithm","titles","setScratchPaper","_ref2","login","gistId","title","scratchPaper","homeDescription","setEditingFile","file","modifyTitle","addFile","renameFile","name","modifyFile","content","deleteFile","actions","homeTitles","homeFiles","undefined","lastTitles","lastFiles","editingFile","shouldBuild","saved","state","_ref3","payload","_ref4","_ref5","newState","_ref6","_ref7","update","map","oldFile","_ref8","index","indexOf","filter","Math","min","length"],"sources":["/home/om-bade/Downloads/AlgoLab-main/visualizer/src/reducers/current.js"],"sourcesContent":["import { combineActions, createAction, handleActions } from 'redux-actions';\nimport { README_MD } from 'files';\nimport { extension, isSaved } from 'common/util';\n\nconst prefix = 'CURRENT';\n\nconst setHome = createAction(`${prefix}/SET_HOME`, () => defaultState);\nconst setAlgorithm = createAction(`${prefix}/SET_ALGORITHM`, ({ categoryKey, categoryName, algorithmKey, algorithmName, files, description }) => ({\n  algorithm: { categoryKey, algorithmKey },\n  titles: [categoryName, algorithmName],\n  files,\n  description,\n}));\nconst setScratchPaper = createAction(`${prefix}/SET_SCRATCH_PAPER`, ({ login, gistId, title, files }) => ({\n  scratchPaper: { login, gistId },\n  titles: ['Scratch Paper', title],\n  files,\n  description: homeDescription,\n}));\nconst setEditingFile = createAction(`${prefix}/SET_EDITING_FILE`, file => ({ file }));\nconst modifyTitle = createAction(`${prefix}/MODIFY_TITLE`, title => ({ title }));\nconst addFile = createAction(`${prefix}/ADD_FILE`, file => ({ file }));\nconst renameFile = createAction(`${prefix}/RENAME_FILE`, (file, name) => ({ file, name }));\nconst modifyFile = createAction(`${prefix}/MODIFY_FILE`, (file, content) => ({ file, content }));\nconst deleteFile = createAction(`${prefix}/DELETE_FILE`, file => ({ file }));\n\nexport const actions = {\n  setHome,\n  setAlgorithm,\n  setScratchPaper,\n  setEditingFile,\n  modifyTitle,\n  addFile,\n  modifyFile,\n  deleteFile,\n  renameFile,\n};\n\nconst homeTitles = ['Algorithm Visualizer'];\nconst homeFiles = [README_MD];\nconst homeDescription = 'Algorithm Visualizer is an interactive online platform that visualizes algorithms from code.';\nconst defaultState = {\n  algorithm: {\n    categoryKey: 'algorithm-visualizer',\n    algorithmKey: 'home',\n  },\n  scratchPaper: undefined,\n  titles: homeTitles,\n  files: homeFiles,\n  lastTitles: homeTitles,\n  lastFiles: homeFiles,\n  description: homeDescription,\n  editingFile: undefined,\n  shouldBuild: true,\n  saved: true,\n};\n\nexport default handleActions({\n  [combineActions(\n    setHome,\n    setAlgorithm,\n    setScratchPaper,\n  )]: (state, { payload }) => {\n    const { algorithm, scratchPaper, titles, files, description } = payload;\n    return {\n      ...state,\n      algorithm,\n      scratchPaper,\n      titles,\n      files,\n      lastTitles: titles,\n      lastFiles: files,\n      description,\n      editingFile: undefined,\n      shouldBuild: true,\n      saved: true,\n    };\n  },\n  [setEditingFile]: (state, { payload }) => {\n    const { file } = payload;\n    return {\n      ...state,\n      editingFile: file,\n      shouldBuild: true,\n    };\n  },\n  [modifyTitle]: (state, { payload }) => {\n    const { title } = payload;\n    const newState = {\n      ...state,\n      titles: [state.titles[0], title],\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n  [addFile]: (state, { payload }) => {\n    const { file } = payload;\n    const newState = {\n      ...state,\n      files: [...state.files, file],\n      editingFile: file,\n      shouldBuild: true,\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n  [combineActions(\n    renameFile,\n    modifyFile,\n  )]: (state, { payload }) => {\n    const { file, ...update } = payload;\n    const editingFile = { ...file, ...update };\n    const newState = {\n      ...state,\n      files: state.files.map(oldFile => oldFile === file ? editingFile : oldFile),\n      editingFile,\n      shouldBuild: extension(editingFile.name) === 'md',\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n  [deleteFile]: (state, { payload }) => {\n    const { file } = payload;\n    const index = state.files.indexOf(file);\n    const files = state.files.filter(oldFile => oldFile !== file);\n    const editingFile = files[Math.min(index, files.length - 1)];\n    const newState = {\n      ...state,\n      files,\n      editingFile,\n      shouldBuild: true,\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n}, defaultState);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}