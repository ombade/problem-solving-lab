{"ast":null,"code":"import React from'react';import Cookies from'js-cookie';import{connect}from'react-redux';import Promise from'bluebird';import{Helmet}from'react-helmet';import queryString from'query-string';import{BaseComponent,CodeEditor,Header,Navigator,ResizableContainer,TabContainer,ToastContainer,VisualizationViewer}from'components';import{AlgorithmApi,GitHubApi,VisualizationApi}from'apis';import{actions}from'reducers';import{createUserFile,extension,refineGist}from'common/util';import{exts,languages}from'common/config';import{CONTRIBUTING_MD}from'files';import styles from'./App.module.scss';class App extends BaseComponent{constructor(props){super(props);this.state={workspaceVisibles:[true,true,true],workspaceWeights:[1,2,2]};this.codeEditorRef=React.createRef();this.ignoreHistoryBlock=this.ignoreHistoryBlock.bind(this);this.handleClickTitleBar=this.handleClickTitleBar.bind(this);this.loadScratchPapers=this.loadScratchPapers.bind(this);this.handleChangeWorkspaceWeights=this.handleChangeWorkspaceWeights.bind(this);}componentDidMount(){window.signIn=this.signIn.bind(this);window.signOut=this.signOut.bind(this);const{params}=this.props.match;const{search}=this.props.location;this.loadAlgorithm(params,queryString.parse(search));const accessToken=Cookies.get('access_token');if(accessToken)this.signIn(accessToken);AlgorithmApi.getCategories().then(_ref=>{let{categories}=_ref;return this.props.setCategories(categories);}).catch(this.handleError);this.toggleHistoryBlock(true);}componentWillUnmount(){delete window.signIn;delete window.signOut;this.toggleHistoryBlock(false);}componentWillReceiveProps(nextProps){const{params}=nextProps.match;const{search}=nextProps.location;if(params!==this.props.match.params||search!==this.props.location.search){const{categoryKey,algorithmKey,gistId}=params;const{algorithm,scratchPaper}=nextProps.current;if(algorithm&&algorithm.categoryKey===categoryKey&&algorithm.algorithmKey===algorithmKey)return;if(scratchPaper&&scratchPaper.gistId===gistId)return;this.loadAlgorithm(params,queryString.parse(search));}}toggleHistoryBlock(){let enable=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this.unblock;if(enable){const warningMessage='Are you sure you want to discard changes?';window.onbeforeunload=()=>{const{saved}=this.props.current;if(!saved)return warningMessage;};this.unblock=this.props.history.block(location=>{if(location.pathname===this.props.location.pathname)return;const{saved}=this.props.current;if(!saved)return warningMessage;});}else{window.onbeforeunload=undefined;this.unblock();this.unblock=undefined;}}ignoreHistoryBlock(process){this.toggleHistoryBlock(false);process();this.toggleHistoryBlock(true);}signIn(accessToken){Cookies.set('access_token',accessToken);GitHubApi.auth(accessToken).then(()=>GitHubApi.getUser()).then(user=>{const{login,avatar_url}=user;this.props.setUser({login,avatar_url});}).then(()=>this.loadScratchPapers()).catch(()=>this.signOut());}signOut(){Cookies.remove('access_token');GitHubApi.auth(undefined).then(()=>{this.props.setUser(undefined);}).then(()=>this.props.setScratchPapers([]));}loadScratchPapers(){const per_page=100;const paginateGists=function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let scratchPapers=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return GitHubApi.listGists({per_page,page,timestamp:Date.now()}).then(gists=>{scratchPapers.push(...gists.filter(gist=>'Problem Solving Lab'in gist.files).map(gist=>({key:gist.id,name:gist.description,files:Object.keys(gist.files)})));if(gists.length<per_page){return scratchPapers;}else{return paginateGists(page+1,scratchPapers);}});};return paginateGists().then(scratchPapers=>this.props.setScratchPapers(scratchPapers)).catch(this.handleError);}loadAlgorithm(_ref2,_ref3){let{categoryKey,algorithmKey,gistId}=_ref2;let{visualizationId}=_ref3;const{ext}=this.props.env;const fetch=()=>{if(window.__PRELOADED_ALGORITHM__){this.props.setAlgorithm(window.__PRELOADED_ALGORITHM__);delete window.__PRELOADED_ALGORITHM__;}else if(window.__PRELOADED_ALGORITHM__===null){delete window.__PRELOADED_ALGORITHM__;return Promise.reject(new Error('Algorithm Not Found'));}else if(categoryKey&&algorithmKey){return AlgorithmApi.getAlgorithm(categoryKey,algorithmKey).then(_ref4=>{let{algorithm}=_ref4;return this.props.setAlgorithm(algorithm);});}else if(gistId==='new'&&visualizationId){return VisualizationApi.getVisualization(visualizationId).then(content=>{this.props.setScratchPaper({login:undefined,gistId,title:'Untitled',files:[CONTRIBUTING_MD,createUserFile('visualization.json',JSON.stringify(content))]});});}else if(gistId==='new'){const language=languages.find(language=>language.ext===ext);this.props.setScratchPaper({login:undefined,gistId,title:'Untitled',files:[CONTRIBUTING_MD,language.skeleton]});}else if(gistId){return GitHubApi.getGist(gistId,{timestamp:Date.now()}).then(refineGist).then(this.props.setScratchPaper);}else{this.props.setHome();}return Promise.resolve();};fetch().then(()=>{this.selectDefaultTab();return null;// to suppress unnecessary bluebird warning\n}).catch(error=>{this.handleError(error);this.props.history.push('/');});}selectDefaultTab(){const{ext}=this.props.env;const{files}=this.props.current;const editingFile=files.find(file=>extension(file.name)==='json')||files.find(file=>extension(file.name)===ext)||files.find(file=>exts.includes(extension(file.name)))||files[files.length-1];this.props.setEditingFile(editingFile);}handleChangeWorkspaceWeights(workspaceWeights){this.setState({workspaceWeights});this.codeEditorRef.current.handleResize();}toggleNavigatorOpened(){let navigatorOpened=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this.state.workspaceVisibles[0];const workspaceVisibles=[...this.state.workspaceVisibles];workspaceVisibles[0]=navigatorOpened;this.setState({workspaceVisibles});}handleClickTitleBar(){this.toggleNavigatorOpened();}render(){const{workspaceVisibles,workspaceWeights}=this.state;const{titles,description,saved}=this.props.current;const title=\"Problem Solving Lab\";const[navigatorOpened]=workspaceVisibles;return/*#__PURE__*/React.createElement(\"div\",{className:styles.app},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,title),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:description})),/*#__PURE__*/React.createElement(Header,{className:styles.header,onClickTitleBar:this.handleClickTitleBar,navigatorOpened:navigatorOpened,loadScratchPapers:this.loadScratchPapers,ignoreHistoryBlock:this.ignoreHistoryBlock}),/*#__PURE__*/React.createElement(ResizableContainer,{className:styles.workspace,horizontal:true,weights:workspaceWeights,visibles:workspaceVisibles,onChangeWeights:this.handleChangeWorkspaceWeights},/*#__PURE__*/React.createElement(Navigator,null),/*#__PURE__*/React.createElement(VisualizationViewer,{className:styles.visualization_viewer}),/*#__PURE__*/React.createElement(TabContainer,{className:styles.editor_tab_container},/*#__PURE__*/React.createElement(CodeEditor,{ref:this.codeEditorRef}))),/*#__PURE__*/React.createElement(ToastContainer,{className:styles.toast_container}));}}export default connect(_ref5=>{let{current,env}=_ref5;return{current,env};},actions)(App);","map":{"version":3,"names":["React","Cookies","connect","Promise","Helmet","queryString","BaseComponent","CodeEditor","Header","Navigator","ResizableContainer","TabContainer","ToastContainer","VisualizationViewer","AlgorithmApi","GitHubApi","VisualizationApi","actions","createUserFile","extension","refineGist","exts","languages","CONTRIBUTING_MD","styles","App","constructor","props","state","workspaceVisibles","workspaceWeights","codeEditorRef","createRef","ignoreHistoryBlock","bind","handleClickTitleBar","loadScratchPapers","handleChangeWorkspaceWeights","componentDidMount","window","signIn","signOut","params","match","search","location","loadAlgorithm","parse","accessToken","get","getCategories","then","_ref","categories","setCategories","catch","handleError","toggleHistoryBlock","componentWillUnmount","componentWillReceiveProps","nextProps","categoryKey","algorithmKey","gistId","algorithm","scratchPaper","current","enable","arguments","length","undefined","unblock","warningMessage","onbeforeunload","saved","history","block","pathname","process","set","auth","getUser","user","login","avatar_url","setUser","remove","setScratchPapers","per_page","paginateGists","page","scratchPapers","listGists","timestamp","Date","now","gists","push","filter","gist","files","map","key","id","name","description","Object","keys","_ref2","_ref3","visualizationId","ext","env","fetch","__PRELOADED_ALGORITHM__","setAlgorithm","reject","Error","getAlgorithm","_ref4","getVisualization","content","setScratchPaper","title","JSON","stringify","language","find","skeleton","getGist","setHome","resolve","selectDefaultTab","error","editingFile","file","includes","setEditingFile","setState","handleResize","toggleNavigatorOpened","navigatorOpened","render","titles","createElement","className","app","header","onClickTitleBar","workspace","horizontal","weights","visibles","onChangeWeights","visualization_viewer","editor_tab_container","ref","toast_container","_ref5"],"sources":["/home/om-bade/Downloads/AlgoLab-main/visualizer/src/components/App/index.js"],"sourcesContent":["import React from 'react';\nimport Cookies from 'js-cookie';\nimport { connect } from 'react-redux';\nimport Promise from 'bluebird';\nimport { Helmet } from 'react-helmet';\nimport queryString from 'query-string';\nimport {\n  BaseComponent,\n  CodeEditor,\n  Header,\n  Navigator,\n  ResizableContainer,\n  TabContainer,\n  ToastContainer,\n  VisualizationViewer,\n} from 'components';\nimport { AlgorithmApi, GitHubApi, VisualizationApi } from 'apis';\nimport { actions } from 'reducers';\nimport { createUserFile, extension, refineGist } from 'common/util';\nimport { exts, languages } from 'common/config';\nimport { CONTRIBUTING_MD } from 'files';\nimport styles from './App.module.scss';\n\nclass App extends BaseComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      workspaceVisibles: [true, true, true],\n      workspaceWeights: [1, 2, 2],\n    };\n\n    this.codeEditorRef = React.createRef();\n\n    this.ignoreHistoryBlock = this.ignoreHistoryBlock.bind(this);\n    this.handleClickTitleBar = this.handleClickTitleBar.bind(this);\n    this.loadScratchPapers = this.loadScratchPapers.bind(this);\n    this.handleChangeWorkspaceWeights = this.handleChangeWorkspaceWeights.bind(this);\n  }\n\n  componentDidMount() {\n    window.signIn = this.signIn.bind(this);\n    window.signOut = this.signOut.bind(this);\n\n    const { params } = this.props.match;\n    const { search } = this.props.location;\n    this.loadAlgorithm(params, queryString.parse(search));\n\n    const accessToken = Cookies.get('access_token');\n    if (accessToken) this.signIn(accessToken);\n\n    AlgorithmApi.getCategories()\n      .then(({ categories }) => this.props.setCategories(categories))\n      .catch(this.handleError);\n\n    this.toggleHistoryBlock(true);\n  }\n\n  componentWillUnmount() {\n    delete window.signIn;\n    delete window.signOut;\n\n    this.toggleHistoryBlock(false);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { params } = nextProps.match;\n    const { search } = nextProps.location;\n    if (params !== this.props.match.params || search !== this.props.location.search) {\n      const { categoryKey, algorithmKey, gistId } = params;\n      const { algorithm, scratchPaper } = nextProps.current;\n      if (algorithm && algorithm.categoryKey === categoryKey && algorithm.algorithmKey === algorithmKey) return;\n      if (scratchPaper && scratchPaper.gistId === gistId) return;\n      this.loadAlgorithm(params, queryString.parse(search));\n    }\n  }\n\n  toggleHistoryBlock(enable = !this.unblock) {\n    if (enable) {\n      const warningMessage = 'Are you sure you want to discard changes?';\n      window.onbeforeunload = () => {\n        const { saved } = this.props.current;\n        if (!saved) return warningMessage;\n      };\n      this.unblock = this.props.history.block((location) => {\n        if (location.pathname === this.props.location.pathname) return;\n        const { saved } = this.props.current;\n        if (!saved) return warningMessage;\n      });\n    } else {\n      window.onbeforeunload = undefined;\n      this.unblock();\n      this.unblock = undefined;\n    }\n  }\n\n  ignoreHistoryBlock(process) {\n    this.toggleHistoryBlock(false);\n    process();\n    this.toggleHistoryBlock(true);\n  }\n\n  signIn(accessToken) {\n    Cookies.set('access_token', accessToken);\n    GitHubApi.auth(accessToken)\n      .then(() => GitHubApi.getUser())\n      .then(user => {\n        const { login, avatar_url } = user;\n        this.props.setUser({ login, avatar_url });\n      })\n      .then(() => this.loadScratchPapers())\n      .catch(() => this.signOut());\n  }\n\n  signOut() {\n    Cookies.remove('access_token');\n    GitHubApi.auth(undefined)\n      .then(() => {\n        this.props.setUser(undefined);\n      })\n      .then(() => this.props.setScratchPapers([]));\n  }\n\n  loadScratchPapers() {\n    const per_page = 100;\n    const paginateGists = (page = 1, scratchPapers = []) => GitHubApi.listGists({\n      per_page,\n      page,\n      timestamp: Date.now(),\n    }).then(gists => {\n      scratchPapers.push(...gists.filter(gist => 'Problem Solving Lab' in gist.files).map(gist => ({\n        key: gist.id,\n        name: gist.description,\n        files: Object.keys(gist.files),\n      })));\n      if (gists.length < per_page) {\n        return scratchPapers;\n      } else {\n        return paginateGists(page + 1, scratchPapers);\n      }\n    });\n    return paginateGists()\n      .then(scratchPapers => this.props.setScratchPapers(scratchPapers))\n      .catch(this.handleError);\n  }\n\n  loadAlgorithm({ categoryKey, algorithmKey, gistId }, { visualizationId }) {\n    const { ext } = this.props.env;\n    const fetch = () => {\n      if (window.__PRELOADED_ALGORITHM__) {\n        this.props.setAlgorithm(window.__PRELOADED_ALGORITHM__);\n        delete window.__PRELOADED_ALGORITHM__;\n      } else if (window.__PRELOADED_ALGORITHM__ === null) {\n        delete window.__PRELOADED_ALGORITHM__;\n        return Promise.reject(new Error('Algorithm Not Found'));\n      } else if (categoryKey && algorithmKey) {\n        return AlgorithmApi.getAlgorithm(categoryKey, algorithmKey)\n          .then(({ algorithm }) => this.props.setAlgorithm(algorithm));\n      } else if (gistId === 'new' && visualizationId) {\n        return VisualizationApi.getVisualization(visualizationId)\n          .then(content => {\n            this.props.setScratchPaper({\n              login: undefined,\n              gistId,\n              title: 'Untitled',\n              files: [CONTRIBUTING_MD, createUserFile('visualization.json', JSON.stringify(content))],\n            });\n          });\n      } else if (gistId === 'new') {\n        const language = languages.find(language => language.ext === ext);\n        this.props.setScratchPaper({\n          login: undefined,\n          gistId,\n          title: 'Untitled',\n          files: [CONTRIBUTING_MD, language.skeleton],\n        });\n      } else if (gistId) {\n        return GitHubApi.getGist(gistId, { timestamp: Date.now() })\n          .then(refineGist)\n          .then(this.props.setScratchPaper);\n      } else {\n        this.props.setHome();\n      }\n      return Promise.resolve();\n    };\n    fetch()\n      .then(() => {\n        this.selectDefaultTab();\n        return null; // to suppress unnecessary bluebird warning\n      })\n      .catch(error => {\n        this.handleError(error);\n        this.props.history.push('/');\n      });\n  }\n\n  selectDefaultTab() {\n    const { ext } = this.props.env;\n    const { files } = this.props.current;\n    const editingFile = files.find(file => extension(file.name) === 'json') ||\n      files.find(file => extension(file.name) === ext) ||\n      files.find(file => exts.includes(extension(file.name))) ||\n      files[files.length - 1];\n    this.props.setEditingFile(editingFile);\n  }\n\n  handleChangeWorkspaceWeights(workspaceWeights) {\n    this.setState({ workspaceWeights });\n    this.codeEditorRef.current.handleResize();\n  }\n\n  toggleNavigatorOpened(navigatorOpened = !this.state.workspaceVisibles[0]) {\n    const workspaceVisibles = [...this.state.workspaceVisibles];\n    workspaceVisibles[0] = navigatorOpened;\n    this.setState({ workspaceVisibles });\n  }\n\n  handleClickTitleBar() {\n    this.toggleNavigatorOpened();\n  }\n\n  render() {\n    const { workspaceVisibles, workspaceWeights } = this.state;\n    const { titles, description, saved } = this.props.current;\n\n    const title = `Problem Solving Lab`;\n    const [navigatorOpened] = workspaceVisibles;\n\n    return (\n      <div className={styles.app}>\n        <Helmet>\n          <title>{title}</title>\n          <meta name=\"description\" content={description}/>\n        </Helmet>\n        <Header className={styles.header} onClickTitleBar={this.handleClickTitleBar}\n                navigatorOpened={navigatorOpened} loadScratchPapers={this.loadScratchPapers}\n                ignoreHistoryBlock={this.ignoreHistoryBlock}/>\n        <ResizableContainer className={styles.workspace} horizontal weights={workspaceWeights}\n                            visibles={workspaceVisibles} onChangeWeights={this.handleChangeWorkspaceWeights}>\n          <Navigator/>\n          <VisualizationViewer className={styles.visualization_viewer}/>\n          <TabContainer className={styles.editor_tab_container}>\n            <CodeEditor ref={this.codeEditorRef}/>\n          </TabContainer>\n        </ResizableContainer>\n        <ToastContainer className={styles.toast_container}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ current, env }) => ({ current, env }), actions)(\n  App,\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}