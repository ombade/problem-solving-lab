{"ast":null,"code":"var _jsxFileName = \"/home/om-bade/Downloads/AlgoLab-main/visualizer/src/components/App/index.js\";\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport { connect } from 'react-redux';\nimport Promise from 'bluebird';\nimport { Helmet } from 'react-helmet';\nimport queryString from 'query-string';\nimport { BaseComponent, CodeEditor, Header, Navigator, ResizableContainer, TabContainer, ToastContainer, VisualizationViewer } from 'components';\nimport { AlgorithmApi, GitHubApi, VisualizationApi } from 'apis';\nimport { actions } from 'reducers';\nimport { createUserFile, extension, refineGist } from 'common/util';\nimport { exts, languages } from 'common/config';\nimport { CONTRIBUTING_MD } from 'files';\nimport styles from './App.module.scss';\nclass App extends BaseComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      workspaceVisibles: [true, true, true],\n      workspaceWeights: [1, 2, 2]\n    };\n    this.codeEditorRef = React.createRef();\n    this.ignoreHistoryBlock = this.ignoreHistoryBlock.bind(this);\n    this.handleClickTitleBar = this.handleClickTitleBar.bind(this);\n    this.loadScratchPapers = this.loadScratchPapers.bind(this);\n    this.handleChangeWorkspaceWeights = this.handleChangeWorkspaceWeights.bind(this);\n  }\n  componentDidMount() {\n    window.signIn = this.signIn.bind(this);\n    window.signOut = this.signOut.bind(this);\n    const {\n      params\n    } = this.props.match;\n    const {\n      search\n    } = this.props.location;\n    this.loadAlgorithm(params, queryString.parse(search));\n    const accessToken = Cookies.get('access_token');\n    if (accessToken) this.signIn(accessToken);\n    AlgorithmApi.getCategories().then(({\n      categories\n    }) => this.props.setCategories(categories)).catch(this.handleError);\n    this.toggleHistoryBlock(true);\n  }\n  componentWillUnmount() {\n    delete window.signIn;\n    delete window.signOut;\n    this.toggleHistoryBlock(false);\n  }\n  componentWillReceiveProps(nextProps) {\n    const {\n      params\n    } = nextProps.match;\n    const {\n      search\n    } = nextProps.location;\n    if (params !== this.props.match.params || search !== this.props.location.search) {\n      const {\n        categoryKey,\n        algorithmKey,\n        gistId\n      } = params;\n      const {\n        algorithm,\n        scratchPaper\n      } = nextProps.current;\n      if (algorithm && algorithm.categoryKey === categoryKey && algorithm.algorithmKey === algorithmKey) return;\n      if (scratchPaper && scratchPaper.gistId === gistId) return;\n      this.loadAlgorithm(params, queryString.parse(search));\n    }\n  }\n  toggleHistoryBlock(enable = !this.unblock) {\n    if (enable) {\n      const warningMessage = 'Are you sure you want to discard changes?';\n      window.onbeforeunload = () => {\n        const {\n          saved\n        } = this.props.current;\n        if (!saved) return warningMessage;\n      };\n      this.unblock = this.props.history.block(location => {\n        if (location.pathname === this.props.location.pathname) return;\n        const {\n          saved\n        } = this.props.current;\n        if (!saved) return warningMessage;\n      });\n    } else {\n      window.onbeforeunload = undefined;\n      this.unblock();\n      this.unblock = undefined;\n    }\n  }\n  ignoreHistoryBlock(process) {\n    this.toggleHistoryBlock(false);\n    process();\n    this.toggleHistoryBlock(true);\n  }\n  signIn(accessToken) {\n    Cookies.set('access_token', accessToken);\n    GitHubApi.auth(accessToken).then(() => GitHubApi.getUser()).then(user => {\n      const {\n        login,\n        avatar_url\n      } = user;\n      this.props.setUser({\n        login,\n        avatar_url\n      });\n    }).then(() => this.loadScratchPapers()).catch(() => this.signOut());\n  }\n  signOut() {\n    Cookies.remove('access_token');\n    GitHubApi.auth(undefined).then(() => {\n      this.props.setUser(undefined);\n    }).then(() => this.props.setScratchPapers([]));\n  }\n  loadScratchPapers() {\n    const per_page = 100;\n    const paginateGists = (page = 1, scratchPapers = []) => GitHubApi.listGists({\n      per_page,\n      page,\n      timestamp: Date.now()\n    }).then(gists => {\n      scratchPapers.push(...gists.filter(gist => 'Problem Solving Lab' in gist.files).map(gist => ({\n        key: gist.id,\n        name: gist.description,\n        files: Object.keys(gist.files)\n      })));\n      if (gists.length < per_page) {\n        return scratchPapers;\n      } else {\n        return paginateGists(page + 1, scratchPapers);\n      }\n    });\n    return paginateGists().then(scratchPapers => this.props.setScratchPapers(scratchPapers)).catch(this.handleError);\n  }\n  loadAlgorithm({\n    categoryKey,\n    algorithmKey,\n    gistId\n  }, {\n    visualizationId\n  }) {\n    const {\n      ext\n    } = this.props.env;\n    const fetch = () => {\n      if (window.__PRELOADED_ALGORITHM__) {\n        this.props.setAlgorithm(window.__PRELOADED_ALGORITHM__);\n        delete window.__PRELOADED_ALGORITHM__;\n      } else if (window.__PRELOADED_ALGORITHM__ === null) {\n        delete window.__PRELOADED_ALGORITHM__;\n        return Promise.reject(new Error('Algorithm Not Found'));\n      } else if (categoryKey && algorithmKey) {\n        return AlgorithmApi.getAlgorithm(categoryKey, algorithmKey).then(({\n          algorithm\n        }) => this.props.setAlgorithm(algorithm));\n      } else if (gistId === 'new' && visualizationId) {\n        return VisualizationApi.getVisualization(visualizationId).then(content => {\n          this.props.setScratchPaper({\n            login: undefined,\n            gistId,\n            title: 'Untitled',\n            files: [CONTRIBUTING_MD, createUserFile('visualization.json', JSON.stringify(content))]\n          });\n        });\n      } else if (gistId === 'new') {\n        const language = languages.find(language => language.ext === ext);\n        this.props.setScratchPaper({\n          login: undefined,\n          gistId,\n          title: 'Untitled',\n          files: [CONTRIBUTING_MD, language.skeleton]\n        });\n      } else if (gistId) {\n        return GitHubApi.getGist(gistId, {\n          timestamp: Date.now()\n        }).then(refineGist).then(this.props.setScratchPaper);\n      } else {\n        this.props.setHome();\n      }\n      return Promise.resolve();\n    };\n    fetch().then(() => {\n      this.selectDefaultTab();\n      return null; // to suppress unnecessary bluebird warning\n    }).catch(error => {\n      this.handleError(error);\n      this.props.history.push('/');\n    });\n  }\n  selectDefaultTab() {\n    const {\n      ext\n    } = this.props.env;\n    const {\n      files\n    } = this.props.current;\n    const editingFile = files.find(file => extension(file.name) === 'json') || files.find(file => extension(file.name) === ext) || files.find(file => exts.includes(extension(file.name))) || files[files.length - 1];\n    this.props.setEditingFile(editingFile);\n  }\n  handleChangeWorkspaceWeights(workspaceWeights) {\n    this.setState({\n      workspaceWeights\n    });\n    this.codeEditorRef.current.handleResize();\n  }\n  toggleNavigatorOpened(navigatorOpened = !this.state.workspaceVisibles[0]) {\n    const workspaceVisibles = [...this.state.workspaceVisibles];\n    workspaceVisibles[0] = navigatorOpened;\n    this.setState({\n      workspaceVisibles\n    });\n  }\n  handleClickTitleBar() {\n    this.toggleNavigatorOpened();\n  }\n  render() {\n    const {\n      workspaceVisibles,\n      workspaceWeights\n    } = this.state;\n    const {\n      titles,\n      description,\n      saved\n    } = this.props.current;\n    const title = `Problem Solving Lab`;\n    const [navigatorOpened] = workspaceVisibles;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.app,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }\n    }, title), /*#__PURE__*/React.createElement(\"meta\", {\n      name: \"description\",\n      content: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Header, {\n      className: styles.header,\n      onClickTitleBar: this.handleClickTitleBar,\n      navigatorOpened: navigatorOpened,\n      loadScratchPapers: this.loadScratchPapers,\n      ignoreHistoryBlock: this.ignoreHistoryBlock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ResizableContainer, {\n      className: styles.workspace,\n      horizontal: true,\n      weights: workspaceWeights,\n      visibles: workspaceVisibles,\n      onChangeWeights: this.handleChangeWorkspaceWeights,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navigator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(VisualizationViewer, {\n      className: styles.visualization_viewer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TabContainer, {\n      className: styles.editor_tab_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CodeEditor, {\n      ref: this.codeEditorRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(ToastContainer, {\n      className: styles.toast_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }\n    }));\n  }\n}\nexport default connect(({\n  current,\n  env\n}) => ({\n  current,\n  env\n}), actions)(App);","map":{"version":3,"names":["React","Cookies","connect","Promise","Helmet","queryString","BaseComponent","CodeEditor","Header","Navigator","ResizableContainer","TabContainer","ToastContainer","VisualizationViewer","AlgorithmApi","GitHubApi","VisualizationApi","actions","createUserFile","extension","refineGist","exts","languages","CONTRIBUTING_MD","styles","App","constructor","props","state","workspaceVisibles","workspaceWeights","codeEditorRef","createRef","ignoreHistoryBlock","bind","handleClickTitleBar","loadScratchPapers","handleChangeWorkspaceWeights","componentDidMount","window","signIn","signOut","params","match","search","location","loadAlgorithm","parse","accessToken","get","getCategories","then","categories","setCategories","catch","handleError","toggleHistoryBlock","componentWillUnmount","componentWillReceiveProps","nextProps","categoryKey","algorithmKey","gistId","algorithm","scratchPaper","current","enable","unblock","warningMessage","onbeforeunload","saved","history","block","pathname","undefined","process","set","auth","getUser","user","login","avatar_url","setUser","remove","setScratchPapers","per_page","paginateGists","page","scratchPapers","listGists","timestamp","Date","now","gists","push","filter","gist","files","map","key","id","name","description","Object","keys","length","visualizationId","ext","env","fetch","__PRELOADED_ALGORITHM__","setAlgorithm","reject","Error","getAlgorithm","getVisualization","content","setScratchPaper","title","JSON","stringify","language","find","skeleton","getGist","setHome","resolve","selectDefaultTab","error","editingFile","file","includes","setEditingFile","setState","handleResize","toggleNavigatorOpened","navigatorOpened","render","titles","createElement","className","app","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","header","onClickTitleBar","workspace","horizontal","weights","visibles","onChangeWeights","visualization_viewer","editor_tab_container","ref","toast_container"],"sources":["/home/om-bade/Downloads/AlgoLab-main/visualizer/src/components/App/index.js"],"sourcesContent":["import React from 'react';\nimport Cookies from 'js-cookie';\nimport { connect } from 'react-redux';\nimport Promise from 'bluebird';\nimport { Helmet } from 'react-helmet';\nimport queryString from 'query-string';\nimport {\n  BaseComponent,\n  CodeEditor,\n  Header,\n  Navigator,\n  ResizableContainer,\n  TabContainer,\n  ToastContainer,\n  VisualizationViewer,\n} from 'components';\nimport { AlgorithmApi, GitHubApi, VisualizationApi } from 'apis';\nimport { actions } from 'reducers';\nimport { createUserFile, extension, refineGist } from 'common/util';\nimport { exts, languages } from 'common/config';\nimport { CONTRIBUTING_MD } from 'files';\nimport styles from './App.module.scss';\n\nclass App extends BaseComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      workspaceVisibles: [true, true, true],\n      workspaceWeights: [1, 2, 2],\n    };\n\n    this.codeEditorRef = React.createRef();\n\n    this.ignoreHistoryBlock = this.ignoreHistoryBlock.bind(this);\n    this.handleClickTitleBar = this.handleClickTitleBar.bind(this);\n    this.loadScratchPapers = this.loadScratchPapers.bind(this);\n    this.handleChangeWorkspaceWeights = this.handleChangeWorkspaceWeights.bind(this);\n  }\n\n  componentDidMount() {\n    window.signIn = this.signIn.bind(this);\n    window.signOut = this.signOut.bind(this);\n\n    const { params } = this.props.match;\n    const { search } = this.props.location;\n    this.loadAlgorithm(params, queryString.parse(search));\n\n    const accessToken = Cookies.get('access_token');\n    if (accessToken) this.signIn(accessToken);\n\n    AlgorithmApi.getCategories()\n      .then(({ categories }) => this.props.setCategories(categories))\n      .catch(this.handleError);\n\n    this.toggleHistoryBlock(true);\n  }\n\n  componentWillUnmount() {\n    delete window.signIn;\n    delete window.signOut;\n\n    this.toggleHistoryBlock(false);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { params } = nextProps.match;\n    const { search } = nextProps.location;\n    if (params !== this.props.match.params || search !== this.props.location.search) {\n      const { categoryKey, algorithmKey, gistId } = params;\n      const { algorithm, scratchPaper } = nextProps.current;\n      if (algorithm && algorithm.categoryKey === categoryKey && algorithm.algorithmKey === algorithmKey) return;\n      if (scratchPaper && scratchPaper.gistId === gistId) return;\n      this.loadAlgorithm(params, queryString.parse(search));\n    }\n  }\n\n  toggleHistoryBlock(enable = !this.unblock) {\n    if (enable) {\n      const warningMessage = 'Are you sure you want to discard changes?';\n      window.onbeforeunload = () => {\n        const { saved } = this.props.current;\n        if (!saved) return warningMessage;\n      };\n      this.unblock = this.props.history.block((location) => {\n        if (location.pathname === this.props.location.pathname) return;\n        const { saved } = this.props.current;\n        if (!saved) return warningMessage;\n      });\n    } else {\n      window.onbeforeunload = undefined;\n      this.unblock();\n      this.unblock = undefined;\n    }\n  }\n\n  ignoreHistoryBlock(process) {\n    this.toggleHistoryBlock(false);\n    process();\n    this.toggleHistoryBlock(true);\n  }\n\n  signIn(accessToken) {\n    Cookies.set('access_token', accessToken);\n    GitHubApi.auth(accessToken)\n      .then(() => GitHubApi.getUser())\n      .then(user => {\n        const { login, avatar_url } = user;\n        this.props.setUser({ login, avatar_url });\n      })\n      .then(() => this.loadScratchPapers())\n      .catch(() => this.signOut());\n  }\n\n  signOut() {\n    Cookies.remove('access_token');\n    GitHubApi.auth(undefined)\n      .then(() => {\n        this.props.setUser(undefined);\n      })\n      .then(() => this.props.setScratchPapers([]));\n  }\n\n  loadScratchPapers() {\n    const per_page = 100;\n    const paginateGists = (page = 1, scratchPapers = []) => GitHubApi.listGists({\n      per_page,\n      page,\n      timestamp: Date.now(),\n    }).then(gists => {\n      scratchPapers.push(...gists.filter(gist => 'Problem Solving Lab' in gist.files).map(gist => ({\n        key: gist.id,\n        name: gist.description,\n        files: Object.keys(gist.files),\n      })));\n      if (gists.length < per_page) {\n        return scratchPapers;\n      } else {\n        return paginateGists(page + 1, scratchPapers);\n      }\n    });\n    return paginateGists()\n      .then(scratchPapers => this.props.setScratchPapers(scratchPapers))\n      .catch(this.handleError);\n  }\n\n  loadAlgorithm({ categoryKey, algorithmKey, gistId }, { visualizationId }) {\n    const { ext } = this.props.env;\n    const fetch = () => {\n      if (window.__PRELOADED_ALGORITHM__) {\n        this.props.setAlgorithm(window.__PRELOADED_ALGORITHM__);\n        delete window.__PRELOADED_ALGORITHM__;\n      } else if (window.__PRELOADED_ALGORITHM__ === null) {\n        delete window.__PRELOADED_ALGORITHM__;\n        return Promise.reject(new Error('Algorithm Not Found'));\n      } else if (categoryKey && algorithmKey) {\n        return AlgorithmApi.getAlgorithm(categoryKey, algorithmKey)\n          .then(({ algorithm }) => this.props.setAlgorithm(algorithm));\n      } else if (gistId === 'new' && visualizationId) {\n        return VisualizationApi.getVisualization(visualizationId)\n          .then(content => {\n            this.props.setScratchPaper({\n              login: undefined,\n              gistId,\n              title: 'Untitled',\n              files: [CONTRIBUTING_MD, createUserFile('visualization.json', JSON.stringify(content))],\n            });\n          });\n      } else if (gistId === 'new') {\n        const language = languages.find(language => language.ext === ext);\n        this.props.setScratchPaper({\n          login: undefined,\n          gistId,\n          title: 'Untitled',\n          files: [CONTRIBUTING_MD, language.skeleton],\n        });\n      } else if (gistId) {\n        return GitHubApi.getGist(gistId, { timestamp: Date.now() })\n          .then(refineGist)\n          .then(this.props.setScratchPaper);\n      } else {\n        this.props.setHome();\n      }\n      return Promise.resolve();\n    };\n    fetch()\n      .then(() => {\n        this.selectDefaultTab();\n        return null; // to suppress unnecessary bluebird warning\n      })\n      .catch(error => {\n        this.handleError(error);\n        this.props.history.push('/');\n      });\n  }\n\n  selectDefaultTab() {\n    const { ext } = this.props.env;\n    const { files } = this.props.current;\n    const editingFile = files.find(file => extension(file.name) === 'json') ||\n      files.find(file => extension(file.name) === ext) ||\n      files.find(file => exts.includes(extension(file.name))) ||\n      files[files.length - 1];\n    this.props.setEditingFile(editingFile);\n  }\n\n  handleChangeWorkspaceWeights(workspaceWeights) {\n    this.setState({ workspaceWeights });\n    this.codeEditorRef.current.handleResize();\n  }\n\n  toggleNavigatorOpened(navigatorOpened = !this.state.workspaceVisibles[0]) {\n    const workspaceVisibles = [...this.state.workspaceVisibles];\n    workspaceVisibles[0] = navigatorOpened;\n    this.setState({ workspaceVisibles });\n  }\n\n  handleClickTitleBar() {\n    this.toggleNavigatorOpened();\n  }\n\n  render() {\n    const { workspaceVisibles, workspaceWeights } = this.state;\n    const { titles, description, saved } = this.props.current;\n\n    const title = `Problem Solving Lab`;\n    const [navigatorOpened] = workspaceVisibles;\n\n    return (\n      <div className={styles.app}>\n        <Helmet>\n          <title>{title}</title>\n          <meta name=\"description\" content={description}/>\n        </Helmet>\n        <Header className={styles.header} onClickTitleBar={this.handleClickTitleBar}\n                navigatorOpened={navigatorOpened} loadScratchPapers={this.loadScratchPapers}\n                ignoreHistoryBlock={this.ignoreHistoryBlock}/>\n        <ResizableContainer className={styles.workspace} horizontal weights={workspaceWeights}\n                            visibles={workspaceVisibles} onChangeWeights={this.handleChangeWorkspaceWeights}>\n          <Navigator/>\n          <VisualizationViewer className={styles.visualization_viewer}/>\n          <TabContainer className={styles.editor_tab_container}>\n            <CodeEditor ref={this.codeEditorRef}/>\n          </TabContainer>\n        </ResizableContainer>\n        <ToastContainer className={styles.toast_container}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ current, env }) => ({ current, env }), actions)(\n  App,\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}