{"ast":null,"code":"import { combineActions, createAction, handleActions } from 'redux-actions';\nimport { README_MD } from 'files';\nimport { extension, isSaved } from 'common/util';\nconst prefix = 'CURRENT';\nconst setHome = createAction(`${prefix}/SET_HOME`, () => defaultState);\nconst setAlgorithm = createAction(`${prefix}/SET_ALGORITHM`, ({\n  categoryKey,\n  categoryName,\n  algorithmKey,\n  algorithmName,\n  files,\n  description\n}) => ({\n  algorithm: {\n    categoryKey,\n    algorithmKey\n  },\n  titles: [categoryName, algorithmName],\n  files,\n  description\n}));\nconst setScratchPaper = createAction(`${prefix}/SET_SCRATCH_PAPER`, ({\n  login,\n  gistId,\n  title,\n  files\n}) => ({\n  scratchPaper: {\n    login,\n    gistId\n  },\n  titles: ['Scratch Paper', title],\n  files,\n  description: homeDescription\n}));\nconst setEditingFile = createAction(`${prefix}/SET_EDITING_FILE`, file => ({\n  file\n}));\nconst modifyTitle = createAction(`${prefix}/MODIFY_TITLE`, title => ({\n  title\n}));\nconst addFile = createAction(`${prefix}/ADD_FILE`, file => ({\n  file\n}));\nconst renameFile = createAction(`${prefix}/RENAME_FILE`, (file, name) => ({\n  file,\n  name\n}));\nconst modifyFile = createAction(`${prefix}/MODIFY_FILE`, (file, content) => ({\n  file,\n  content\n}));\nconst deleteFile = createAction(`${prefix}/DELETE_FILE`, file => ({\n  file\n}));\nexport const actions = {\n  setHome,\n  setAlgorithm,\n  setScratchPaper,\n  setEditingFile,\n  modifyTitle,\n  addFile,\n  modifyFile,\n  deleteFile,\n  renameFile\n};\nconst homeTitles = ['Algorithm Visualizer'];\nconst homeFiles = [README_MD];\nconst homeDescription = 'Algorithm Visualizer is an interactive online platform that visualizes algorithms from code.';\nconst defaultState = {\n  algorithm: {\n    categoryKey: 'algorithm-visualizer',\n    algorithmKey: 'home'\n  },\n  scratchPaper: undefined,\n  titles: homeTitles,\n  files: homeFiles,\n  lastTitles: homeTitles,\n  lastFiles: homeFiles,\n  description: homeDescription,\n  editingFile: undefined,\n  shouldBuild: true,\n  saved: true\n};\nexport default handleActions({\n  [combineActions(setHome, setAlgorithm, setScratchPaper)]: (state, {\n    payload\n  }) => {\n    const {\n      algorithm,\n      scratchPaper,\n      titles,\n      files,\n      description\n    } = payload;\n    return {\n      ...state,\n      algorithm,\n      scratchPaper,\n      titles,\n      files,\n      lastTitles: titles,\n      lastFiles: files,\n      description,\n      editingFile: undefined,\n      shouldBuild: true,\n      saved: true\n    };\n  },\n  [setEditingFile]: (state, {\n    payload\n  }) => {\n    const {\n      file\n    } = payload;\n    return {\n      ...state,\n      editingFile: file,\n      shouldBuild: true\n    };\n  },\n  [modifyTitle]: (state, {\n    payload\n  }) => {\n    const {\n      title\n    } = payload;\n    const newState = {\n      ...state,\n      titles: [state.titles[0], title]\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState)\n    };\n  },\n  [addFile]: (state, {\n    payload\n  }) => {\n    const {\n      file\n    } = payload;\n    const newState = {\n      ...state,\n      files: [...state.files, file],\n      editingFile: file,\n      shouldBuild: true\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState)\n    };\n  },\n  [combineActions(renameFile, modifyFile)]: (state, {\n    payload\n  }) => {\n    const {\n      file,\n      ...update\n    } = payload;\n    const editingFile = {\n      ...file,\n      ...update\n    };\n    const newState = {\n      ...state,\n      files: state.files.map(oldFile => oldFile === file ? editingFile : oldFile),\n      editingFile,\n      shouldBuild: extension(editingFile.name) === 'md'\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState)\n    };\n  },\n  [deleteFile]: (state, {\n    payload\n  }) => {\n    const {\n      file\n    } = payload;\n    const index = state.files.indexOf(file);\n    const files = state.files.filter(oldFile => oldFile !== file);\n    const editingFile = files[Math.min(index, files.length - 1)];\n    const newState = {\n      ...state,\n      files,\n      editingFile,\n      shouldBuild: true\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState)\n    };\n  }\n}, defaultState);","map":{"version":3,"names":["combineActions","createAction","handleActions","README_MD","extension","isSaved","prefix","setHome","defaultState","setAlgorithm","categoryKey","categoryName","algorithmKey","algorithmName","files","description","algorithm","titles","setScratchPaper","login","gistId","title","scratchPaper","homeDescription","setEditingFile","file","modifyTitle","addFile","renameFile","name","modifyFile","content","deleteFile","actions","homeTitles","homeFiles","undefined","lastTitles","lastFiles","editingFile","shouldBuild","saved","state","payload","newState","update","map","oldFile","index","indexOf","filter","Math","min","length"],"sources":["/home/om-bade/Downloads/AlgoLab-main/visualizer/src/reducers/current.js"],"sourcesContent":["import { combineActions, createAction, handleActions } from 'redux-actions';\nimport { README_MD } from 'files';\nimport { extension, isSaved } from 'common/util';\n\nconst prefix = 'CURRENT';\n\nconst setHome = createAction(`${prefix}/SET_HOME`, () => defaultState);\nconst setAlgorithm = createAction(`${prefix}/SET_ALGORITHM`, ({ categoryKey, categoryName, algorithmKey, algorithmName, files, description }) => ({\n  algorithm: { categoryKey, algorithmKey },\n  titles: [categoryName, algorithmName],\n  files,\n  description,\n}));\nconst setScratchPaper = createAction(`${prefix}/SET_SCRATCH_PAPER`, ({ login, gistId, title, files }) => ({\n  scratchPaper: { login, gistId },\n  titles: ['Scratch Paper', title],\n  files,\n  description: homeDescription,\n}));\nconst setEditingFile = createAction(`${prefix}/SET_EDITING_FILE`, file => ({ file }));\nconst modifyTitle = createAction(`${prefix}/MODIFY_TITLE`, title => ({ title }));\nconst addFile = createAction(`${prefix}/ADD_FILE`, file => ({ file }));\nconst renameFile = createAction(`${prefix}/RENAME_FILE`, (file, name) => ({ file, name }));\nconst modifyFile = createAction(`${prefix}/MODIFY_FILE`, (file, content) => ({ file, content }));\nconst deleteFile = createAction(`${prefix}/DELETE_FILE`, file => ({ file }));\n\nexport const actions = {\n  setHome,\n  setAlgorithm,\n  setScratchPaper,\n  setEditingFile,\n  modifyTitle,\n  addFile,\n  modifyFile,\n  deleteFile,\n  renameFile,\n};\n\nconst homeTitles = ['Algorithm Visualizer'];\nconst homeFiles = [README_MD];\nconst homeDescription = 'Algorithm Visualizer is an interactive online platform that visualizes algorithms from code.';\nconst defaultState = {\n  algorithm: {\n    categoryKey: 'algorithm-visualizer',\n    algorithmKey: 'home',\n  },\n  scratchPaper: undefined,\n  titles: homeTitles,\n  files: homeFiles,\n  lastTitles: homeTitles,\n  lastFiles: homeFiles,\n  description: homeDescription,\n  editingFile: undefined,\n  shouldBuild: true,\n  saved: true,\n};\n\nexport default handleActions({\n  [combineActions(\n    setHome,\n    setAlgorithm,\n    setScratchPaper,\n  )]: (state, { payload }) => {\n    const { algorithm, scratchPaper, titles, files, description } = payload;\n    return {\n      ...state,\n      algorithm,\n      scratchPaper,\n      titles,\n      files,\n      lastTitles: titles,\n      lastFiles: files,\n      description,\n      editingFile: undefined,\n      shouldBuild: true,\n      saved: true,\n    };\n  },\n  [setEditingFile]: (state, { payload }) => {\n    const { file } = payload;\n    return {\n      ...state,\n      editingFile: file,\n      shouldBuild: true,\n    };\n  },\n  [modifyTitle]: (state, { payload }) => {\n    const { title } = payload;\n    const newState = {\n      ...state,\n      titles: [state.titles[0], title],\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n  [addFile]: (state, { payload }) => {\n    const { file } = payload;\n    const newState = {\n      ...state,\n      files: [...state.files, file],\n      editingFile: file,\n      shouldBuild: true,\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n  [combineActions(\n    renameFile,\n    modifyFile,\n  )]: (state, { payload }) => {\n    const { file, ...update } = payload;\n    const editingFile = { ...file, ...update };\n    const newState = {\n      ...state,\n      files: state.files.map(oldFile => oldFile === file ? editingFile : oldFile),\n      editingFile,\n      shouldBuild: extension(editingFile.name) === 'md',\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n  [deleteFile]: (state, { payload }) => {\n    const { file } = payload;\n    const index = state.files.indexOf(file);\n    const files = state.files.filter(oldFile => oldFile !== file);\n    const editingFile = files[Math.min(index, files.length - 1)];\n    const newState = {\n      ...state,\n      files,\n      editingFile,\n      shouldBuild: true,\n    };\n    return {\n      ...newState,\n      saved: isSaved(newState),\n    };\n  },\n}, defaultState);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}